(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{3:function(e,t,a){var n=a(5).API_BASE_URL;e.exports={create:function(e,t,a){var r=new URL("".concat(n,"/").concat(t));return r.search=new URLSearchParams(a),fetch(r,{method:"POST",body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){return e},function(e){console.log(e)})},index:function(e){return fetch("".concat(n,"/").concat(e)).then(function(e){return e.json()}).then(function(e){return e},function(e){console.log(e)})},read:function(e,t){return fetch("".concat(n,"/").concat(t,"/").concat(e)).then(function(e){return e.json()}).then(function(e){return e},function(e){console.log(e)})},update:function(e,t){return fetch("".concat(n,"/").concat(t,"/").concat(e.id),{method:"PUT",body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){return e},function(e){console.log(e)})},destroy:function(e,t){return fetch("".concat(n,"/").concat(t,"/").concat(e),{method:"DELETE"}).then(function(e){return e.json()}).then(function(e){return e},function(e){console.log(e)})}}},38:function(e,t,a){e.exports=a(65)},5:function(e,t,a){"use strict";a.r(t),a.d(t,"API_BASE_URL",function(){return n}),a.d(t,"ASSET_REPO_BUCKET",function(){return r}),a.d(t,"ASSET_REPO_PATH",function(){return c}),a.d(t,"CONTENT_LAKE_URL",function(){return i}),a.d(t,"SITE_REPO_URL",function(){return s});var n="https://kiuhmwwxi4.execute-api.us-east-1.amazonaws.com/dxm-api",r="dxm-file-repo",c="assets",i="https://dxm-content-lake.s3.amazonaws.com",s="https://dxm-site-repo.s3.amazonaws.com"},65:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(35),i=a.n(c),s=a(11),o=a(16),l=function(){return r.a.createElement("div",{className:"ui stackable main menu"},r.a.createElement("div",{className:"header item"},"Digital eXperience Manager"),r.a.createElement("div",{className:"right menu"},r.a.createElement(s.b,{to:"/",className:"item"},"Content"),r.a.createElement(s.b,{to:"/assets",className:"item"},"Assets")))},u=a(1),d=a.n(u),m=a(2),p=a(6),h=a(7),f=a(9),v=a(8),E=a(10),b=a(3),C=a.n(b),y=a(5),N=function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(f.a)(this,Object(v.a)(t).call(this))).listContent=Object(m.a)(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isLoading:!0}),t.next=3,C.a.index(e.apiResource);case 3:a=t.sent,e.setState({isLoading:!1,nodes:a});case 5:case"end":return t.stop()}},t)})),e.deleteContent=function(){var t=Object(m.a)(d.a.mark(function t(a){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isLoading:!0}),t.next=3,C.a.destroy(a,e.apiResource);case 3:e.listContent(),e.setState({isLoading:!1});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.onPreview=function(e){window.open("".concat(y.SITE_REPO_URL,"/").concat(e.contentType,"/").concat(e.id,".html"))},e.onShowJson=function(e){window.open("".concat(y.CONTENT_LAKE_URL,"/").concat(e.contentType,"/").concat(e.id,".json"))},e.apiResource="nodes",e.state={nodes:[],isLoading:!1},e}return Object(E.a)(t,e),Object(h.a)(t,[{key:"renderList",value:function(){var e=this;return this.state.nodes.filter(function(e){return"asset"!==e.contentType}).map(function(t){var a="/content/edit/".concat(t.id);return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,r.a.createElement(s.b,{to:a,className:"node"},t.title)),r.a.createElement("td",null,t.contentType),r.a.createElement("td",{className:"collapsing"},t.id),r.a.createElement("td",{className:"collapsing"},t.dateModified),r.a.createElement("td",{className:"collapsing"},r.a.createElement("div",{className:"ui icon buttons"},r.a.createElement("button",{className:"ui basic button","data-tooltip":"Show JSON","data-position":"top right",onClick:function(){return e.onShowJson(t)}},r.a.createElement("i",{className:"code icon"})),r.a.createElement("button",{className:"ui basic button","data-tooltip":"Preview in Browser","data-position":"top right",onClick:function(){return e.onPreview(t)}},r.a.createElement("i",{className:"desktop icon"})),r.a.createElement("button",{className:"ui basic button","data-tooltip":"Delete Content","data-position":"top right",onClick:function(){return e.deleteContent(t.id)}},r.a.createElement("i",{className:"trash alternate outline icon"})))))})}},{key:"componentDidMount",value:function(){this.listContent()}},{key:"render",value:function(){var e="ui ".concat(this.state.isLoading?"active":""," inverted dimmer");return r.a.createElement("div",null,r.a.createElement(s.b,{to:"/content/new",className:"ui right floated primary button"},r.a.createElement("i",{className:"plus sqaure icon"}),"New Content"),r.a.createElement("h1",null,"Content List"),r.a.createElement("div",{className:e},r.a.createElement("div",{className:"ui text loader"},"Working...")),r.a.createElement("table",{className:"ui celled striped compact table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Content Type"),r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Date Modified"),r.a.createElement("th",null))),r.a.createElement("tbody",null,this.renderList())))}}]),t}(r.a.Component),g=a(20),w=function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(f.a)(this,Object(v.a)(t).call(this))).handleChange=function(t){var a=Object(g.a)({},e.state).node,n=t.target,r=n.name,c=n.value;a[r]=c,e.setState({node:a})},e.onFormSubmit=function(t){t.preventDefault(),e.props.onFormSubmit(e.state.node)},e.onFormCancel=function(t){t.preventDefault(),e.props.onFormCancel()},e.onPreview=function(){var t=e.state.node;window.open("".concat(y.SITE_REPO_URL,"/").concat(t.contentType,"/").concat(t.id,".html"))},e.onShowJson=function(){var t=e.state.node;window.open("".concat(y.CONTENT_LAKE_URL,"/").concat(t.contentType,"/").concat(t.id,".json"))},e.apiResource="compose",e.state={node:{id:"",contentType:"content",title:"",subTitle:"",copyText:"",dateCreated:"",dateModified:""},isNew:!1},e}return Object(E.a)(t,e),Object(h.a)(t,[{key:"nodeToState",value:function(){this.props.node.id&&this.props.node.id!==this.state.node.id&&this.setState({node:this.props.node})}},{key:"componentDidMount",value:function(){this.setState({isNew:this.props.isNew}),this.nodeToState()}},{key:"componentDidUpdate",value:function(){this.nodeToState()}},{key:"render",value:function(){var e=this.state.node,t=null,a=null,n=null,c=null,i=null;return this.state.isNew||(t=r.a.createElement("div",{className:"disabled field"},r.a.createElement("label",{htmlFor:"id"},"ID"),r.a.createElement("input",{name:"id",type:"text",placeholder:"id",value:e.id,readOnly:!0})),a=r.a.createElement("div",{className:"disabled field"},r.a.createElement("label",{htmlFor:"dateCreated"},"Date Created"),r.a.createElement("input",{name:"dateCreated",type:"text",placeholder:"date created",value:e.dateCreated,readOnly:!0})),n=r.a.createElement("div",{className:"disabled field"},r.a.createElement("label",{htmlFor:"dateModified"},"Date Modified"),r.a.createElement("input",{name:"dateModified",type:"text",placeholder:"date modifed",value:e.dateModified,readOnly:!0})),c=r.a.createElement("button",{className:"ui button",onClick:this.onPreview},r.a.createElement("i",{className:"desktop icon"}),"Preview"),i=r.a.createElement("button",{className:"ui button",onClick:this.onShowJson},r.a.createElement("i",{className:"code icon"}),"Show JSON")),r.a.createElement("div",{className:"ui form"},r.a.createElement("p",null,"All fields must have values. Validation to be added."),t,r.a.createElement("div",{className:"required field"},r.a.createElement("label",{htmlFor:"contentType"},"Content Type"),r.a.createElement("select",{name:"contentType",type:"text",placeholder:"content type",value:e.contentType,onChange:this.handleChange},r.a.createElement("option",{value:""},"Content Type"),r.a.createElement("option",{value:"content"},"Content"))),r.a.createElement("div",{className:"required field"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{name:"title",type:"text",placeholder:"title",value:e.title,onChange:this.handleChange})),r.a.createElement("div",{className:"required field"},r.a.createElement("label",{htmlFor:"subTitle"},"Subtitle"),r.a.createElement("input",{name:"subTitle",type:"text",placeholder:"subtitle",value:e.subTitle,onChange:this.handleChange})),r.a.createElement("div",{className:"required field"},r.a.createElement("label",{htmlFor:"copyText"},"Copy Text"),r.a.createElement("textarea",{name:"copyText",placeholder:"copy text",value:e.copyText,onChange:this.handleChange})),a,n,r.a.createElement("div",null,r.a.createElement("button",{className:"ui secondary basic button",title:"Cancel",onClick:this.onFormCancel},r.a.createElement("i",{className:"close icon"}),"Cancel"),i,c,r.a.createElement("button",{className:"ui primary button",title:"Save",onClick:this.onFormSubmit},r.a.createElement("i",{className:"save icon"}),"Save")))}}]),t}(r.a.Component),S=function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(f.a)(this,Object(v.a)(t).call(this))).createContent=function(){var t=Object(m.a)(d.a.mark(function t(a){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isLoading:!0}),t.next=3,C.a.create(a,e.apiResource);case 3:e.setState({isLoading:!1,redirect:!0});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.onFormCancel=function(){e.setState({redirect:!0})},e.apiResource="nodes",e.state={node:{id:"",contentType:"",title:"",subTitle:"",copyText:"",dateCreated:"",dateModified:""},redirect:!1,isLoading:!1},e}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){if(this.state.redirect)return r.a.createElement(o.a,{to:"/"});var e="ui ".concat(this.state.isLoading?"active":""," inverted dimmer");return r.a.createElement("div",null,r.a.createElement("h1",null,"New Content"),r.a.createElement("div",{className:e},r.a.createElement("div",{className:"ui text loader"},"Working...")),r.a.createElement(w,{node:this.state.node,isNew:!0,onFormSubmit:this.createContent,onFormCancel:this.onFormCancel}))}}]),t}(r.a.Component),O=function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(f.a)(this,Object(v.a)(t).call(this))).showContent=function(){var t=Object(m.a)(d.a.mark(function t(a){var n;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isLoading:!0}),t.next=3,C.a.read(a,e.apiResource);case 3:n=t.sent,e.setState({node:n,isLoading:!1});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.updateContent=Object(m.a)(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isLoading:!0}),t.next=3,C.a.update(e.state.node,e.apiResource);case 3:e.setState({isLoading:!1,redirect:!0});case 4:case"end":return t.stop()}},t)})),e.onFormCancel=function(){e.setState({redirect:!0})},e.apiResource="nodes",e.state={node:{id:"",contentType:"",title:"",subTitle:"",copyText:"",dateCreated:"",dateModified:""},redirect:!1,isLoading:!1},e}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.showContent(this.props.match.params.id)}},{key:"render",value:function(){if(this.state.redirect)return r.a.createElement(o.a,{to:"/"});var e="ui ".concat(this.state.isLoading?"active":""," inverted dimmer");return r.a.createElement("div",null,r.a.createElement("h1",null,"Edit Content"),r.a.createElement("div",{className:e},r.a.createElement("div",{className:"ui text loader"},"Working...")),r.a.createElement(w,{node:this.state.node,onFormSubmit:this.updateContent,onFormCancel:this.onFormCancel}))}}]),t}(r.a.Component),T=function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(f.a)(this,Object(v.a)(t).call(this))).listAssets=Object(m.a)(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isLoading:!0}),t.next=3,C.a.index(e.apiResource);case 3:a=t.sent,e.setState({isLoading:!1,assets:a});case 5:case"end":return t.stop()}},t)})),e.deleteAsset=function(){var t=Object(m.a)(d.a.mark(function t(a){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isLoading:!0}),t.next=3,C.a.destroy(a,e.apiResource);case 3:e.listAssets(),e.setState({isLoading:!1});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.onShowJson=function(e){window.open("".concat(y.CONTENT_LAKE_URL,"/").concat(e.contentType,"/").concat(e.id,".json"))},e.apiResource="assets",e.state={assets:[],isLoading:!1},e}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.listAssets()}},{key:"renderList",value:function(){var e=this;return this.state.assets.filter(function(e){return"asset"===e.contentType}).map(function(t){var a="/assets/edit/".concat(t.id);return r.a.createElement("div",{className:"item",key:t.id},r.a.createElement("img",{className:"ui small image",src:t.url,alt:"alt text placeholder"}),r.a.createElement("div",{className:"content"},r.a.createElement(s.b,{to:a,className:"header"},t.title),r.a.createElement("div",{className:"description"},t.dateModified)),r.a.createElement("div",{className:"ui icon buttons right floated content"},r.a.createElement("button",{className:"ui basic button","data-tooltip":"Show JSON","data-position":"top right",onClick:function(){return e.onShowJson(t)}},r.a.createElement("i",{className:"code icon"})),r.a.createElement("button",{className:"ui basic button","data-tooltip":"Delete Asset","data-position":"top right",onClick:function(){return e.deleteAsset(t.id)}},r.a.createElement("i",{className:"trash alternate outline icon"}))))})}},{key:"render",value:function(){var e="ui ".concat(this.state.isLoading?"active":""," inverted dimmer");return r.a.createElement("div",null,r.a.createElement(s.b,{to:"/assets/new",className:"ui right floated primary button"},r.a.createElement("i",{className:"plus sqaure icon"}),"New Asset"),r.a.createElement("h1",null,"Asset List"),r.a.createElement("div",{className:e},r.a.createElement("div",{className:"ui text loader"},"Working...")),r.a.createElement("div",{className:"ui divided relaxed list"},this.renderList()))}}]),t}(r.a.Component),x=function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(f.a)(this,Object(v.a)(t).call(this))).handleChange=function(t){var a=Object(g.a)({},e.state).asset,n=t.target,r=n.name,c=n.value;a[r]=c,e.setState({asset:a})},e.handleFileChange=function(t){e.setState({selectedFile:t.target.files[0]})},e.onFormSubmit=function(t){t.preventDefault();var a={asset:e.state.asset,file:e.state.selectedFile};e.props.onFormSubmit(a)},e.onFormCancel=function(t){t.preventDefault(),e.props.onFormCancel()},e.onShowJson=function(){var t=e.state.asset;window.open("".concat(y.CONTENT_LAKE_URL,"/").concat(t.contentType,"/").concat(t.id,".json"))},e.apiResource="assets",e.state={asset:{id:"",contentType:"asset",title:"",dateCreated:"",dateModified:"",url:""},isNew:!1,selectedFile:""},e}return Object(E.a)(t,e),Object(h.a)(t,[{key:"assetToState",value:function(){this.props.asset.id&&this.props.asset.id!==this.state.asset.id&&this.setState({asset:this.props.asset})}},{key:"componentDidMount",value:function(){this.setState({isNew:this.props.isNew}),this.assetToState()}},{key:"componentDidUpdate",value:function(){this.assetToState()}},{key:"render",value:function(){var e=this.state.asset,t=null,a=null,n=null,c=null,i=null;return this.state.isNew||(t=r.a.createElement("div",{className:"disabled field"},r.a.createElement("label",{htmlFor:"id"},"ID"),r.a.createElement("input",{name:"id",type:"text",placeholder:"id",value:e.id,readOnly:!0})),n=r.a.createElement("div",{className:"disabled field"},r.a.createElement("label",{htmlFor:"dateCreated"},"Date Created"),r.a.createElement("input",{name:"dateCreated",type:"text",placeholder:"date created",value:e.dateCreated,readOnly:!0})),c=r.a.createElement("div",{className:"disabled field"},r.a.createElement("label",{htmlFor:"dateModified"},"Date Modified"),r.a.createElement("input",{name:"dateModified",type:"text",placeholder:"date modifed",value:e.dateModified,readOnly:!0})),a=r.a.createElement("img",{className:"ui big image",src:this.state.asset.url,alt:"alt text placeholder"}),i=r.a.createElement("button",{className:"ui button",onClick:this.onShowJson},r.a.createElement("i",{className:"code icon"}),"Show JSON")),r.a.createElement("div",{className:"ui form"},r.a.createElement("p",null,"All fields must have values. Validation to be added."),t,r.a.createElement("div",{className:"required field"},r.a.createElement("label",{htmlFor:"contentType"},"Content Type"),r.a.createElement("select",{name:"contentType",type:"text",placeholder:"content type",value:e.contentType,onChange:this.handleChange},r.a.createElement("option",{value:""},"Content Type"),r.a.createElement("option",{value:"asset"},"Asset"))),r.a.createElement("div",{className:"required field"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{name:"title",type:"text",placeholder:"title",value:e.title,onChange:this.handleChange})),r.a.createElement("div",{className:"field"},r.a.createElement("label",{htmlFor:"file"},"File"),r.a.createElement("input",{name:"fileName",type:"file",onChange:this.handleFileChange}),a),n,c,r.a.createElement("div",null,r.a.createElement("button",{className:"ui secondary basic button",title:"Cancel",onClick:this.onFormCancel},r.a.createElement("i",{className:"close icon"}),"Cancel"),i,r.a.createElement("button",{className:"ui primary button",title:"Save",onClick:this.onFormSubmit},r.a.createElement("i",{className:"save icon"}),"Save")))}}]),t}(r.a.Component),j=a(19),k=a.n(j),L=function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(f.a)(this,Object(v.a)(t).call(this))).showAsset=function(){var t=Object(m.a)(d.a.mark(function t(a){var n;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isLoading:!0}),t.next=3,C.a.read(a,e.apiResource);case 3:n=t.sent,e.setState({asset:n,isLoading:!1});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.updateAsset=function(){var t=Object(m.a)(d.a.mark(function t(a){var n,r,c,i;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.asset,r=a.file,e.setState({isLoading:!0}),t.next=4,e.getPresignedUrl(n,r);case 4:return c=t.sent,i=c.uploadURL,t.next=8,e.uploadAsset(i,r);case 8:return n.url=t.sent,t.next=11,C.a.update(e.state.asset,e.apiResource);case 11:e.setState({isLoading:!1,redirect:!0});case 12:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.getPresignedUrl=function(){var t=Object(m.a)(d.a.mark(function t(a,n){var r,c,i;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={Bucket:y.ASSET_REPO_BUCKET,Key:"".concat(y.ASSET_REPO_PATH,"/").concat(n.name),ACL:"public-read",ContentType:n.type},c={getSignedUrl:!0},t.next=4,C.a.create(r,e.apiResource,c);case 4:return i=t.sent,t.abrupt("return",i);case 6:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}(),e.uploadAsset=function(){var e=Object(m.a)(d.a.mark(function e(t,a){var n,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={headers:{ACL:"public-read","Content-Type":a.type},onUploadProgress:function(e){var t=Number.parseInt(e.loaded/a.size*100,10);console.log("Progress: ".concat(t,"%"))}},e.next=4,k.a.put(t,a,n);case 4:return r=e.sent,e.abrupt("return",r.config.url.split("?")[0]);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,a){return e.apply(this,arguments)}}(),e.onFormCancel=function(){e.setState({redirect:!0})},e.apiResource="assets",e.state={asset:{id:"",contentType:"",title:"",dateCreated:"",dateModified:"",url:""},redirect:!1,isLoading:!1,selectedFile:""},e}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.showAsset(this.props.match.params.id)}},{key:"render",value:function(){if(this.state.redirect)return r.a.createElement(o.a,{to:"/assets"});var e="ui ".concat(this.state.isLoading?"active":""," inverted dimmer");return r.a.createElement("div",null,r.a.createElement("h1",null,"Edit Asset"),r.a.createElement("div",{className:e},r.a.createElement("div",{className:"ui text loader"},"Working...")),r.a.createElement(x,{asset:this.state.asset,onFormSubmit:this.updateAsset,onFormCancel:this.onFormCancel}))}}]),t}(r.a.Component),F=function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(f.a)(this,Object(v.a)(t).call(this))).createAsset=function(){var t=Object(m.a)(d.a.mark(function t(a){var n,r,c,i;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.asset,r=a.file,e.setState({isLoading:!0}),t.next=4,e.getPresignedUrl(n,r);case 4:return c=t.sent,i=c.uploadURL,t.next=8,e.uploadAsset(i,r);case 8:return n.url=t.sent,e.setState({asset:n}),t.next=12,C.a.create(n,e.apiResource);case 12:e.setState({isLoading:!1,redirect:!0});case 13:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.getPresignedUrl=function(){var t=Object(m.a)(d.a.mark(function t(a,n){var r,c,i;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={Bucket:y.ASSET_REPO_BUCKET,Key:"".concat(y.ASSET_REPO_PATH,"/").concat(n.name),ACL:"public-read",ContentType:n.type},c={getSignedUrl:!0},t.next=4,C.a.create(r,e.apiResource,c);case 4:return i=t.sent,t.abrupt("return",i);case 6:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}(),e.uploadAsset=function(){var e=Object(m.a)(d.a.mark(function e(t,a){var n,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={headers:{ACL:"public-read","Content-Type":a.type},onUploadProgress:function(e){var t=Number.parseInt(e.loaded/a.size*100,10);console.log("Progress: ".concat(t,"%"))}},e.next=4,k.a.put(t,a,n);case 4:return r=e.sent,e.abrupt("return",r.config.url.split("?")[0]);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,a){return e.apply(this,arguments)}}(),e.onFormCancel=function(){e.setState({redirect:!0})},e.apiResource="assets",e.state={asset:{id:"",contentType:"",title:"",dateCreated:"",dateModified:"",url:""},redirect:!1,isLoading:!1,selectedFile:""},e}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){if(this.state.redirect)return r.a.createElement(o.a,{to:"/assets"});var e="ui ".concat(this.state.isLoading?"active":""," inverted dimmer");return r.a.createElement("div",null,r.a.createElement("h1",null,"New Asset"),r.a.createElement("div",{className:e},r.a.createElement("div",{className:"ui text loader"},"Working...")),r.a.createElement(x,{asset:this.state.asset,isNew:!0,onFormSubmit:this.createAsset,onFormCancel:this.onFormCancel}))}}]),t}(r.a.Component),A=function(){return r.a.createElement("div",{className:"ui container"},r.a.createElement(s.a,{basename:"/"},r.a.createElement(l,null),r.a.createElement(o.b,{path:"/",exact:!0,component:N}),r.a.createElement(o.b,{path:"/content/edit/:id",exact:!0,component:O}),r.a.createElement(o.b,{path:"/content/new",exact:!0,component:S}),r.a.createElement(o.b,{path:"/assets",exact:!0,component:T}),r.a.createElement(o.b,{path:"/assets/edit/:id",exact:!0,component:L}),r.a.createElement(o.b,{path:"/assets/new",exact:!0,component:F})))};i.a.render(r.a.createElement(A,null),document.querySelector("#root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.c97fff6c.chunk.js.map