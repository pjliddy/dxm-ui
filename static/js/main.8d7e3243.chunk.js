(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,n){e.exports=n(36)},36:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(22),i=n.n(r),o=n(6),l=n(13),s=n(2),m=n.n(s),d=n(12),u=n(7),p=n(8),h=n(10),f=n(9),v=n(11),E="https://kpuw6vo7wg.execute-api.us-east-1.amazonaws.com/default",b=function(e){return fetch("".concat(E).concat("/dxm-lambda-content-create"),{method:"POST",body:JSON.stringify(e)}).then(function(e){return e},function(e){console.log(e)})},g=function(){return fetch("".concat(E).concat("/dxm-lambda-content-index")).then(function(e){return e.json()}).then(function(e){return e},function(e){console.log(e)})},y=function(e){return fetch("".concat(E).concat("/dxm-lambda-content-read","?id=").concat(encodeURIComponent(e))).then(function(e){return e.json()}).then(function(e){return e},function(e){console.log(e)})},C=function(e){return fetch("".concat(E).concat("/dxm-lambda-content-update"),{method:"PUT",body:JSON.stringify(e)}).then(function(e){return e},function(e){console.log(e)})},x=function(e){return fetch("".concat(E).concat("/dxm-lambda-content-delete","?id=").concat(encodeURIComponent(e)),{method:"DELETE"}).then(function(e){return e},function(e){console.log(e)})},N=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(c)))).state={items:[],isLoading:!1},n.getContentIndex=Object(d.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isLoading:!0}),e.next=3,g();case 3:t=e.sent,n.setState({isLoading:!1,items:t});case 5:case"end":return e.stop()}},e)})),n.deleteContent=function(){var e=Object(d.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isLoading:!0}),e.next=3,x(t);case 3:n.getContentIndex(),n.setState({isLoading:!1});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"renderList",value:function(){var e=this;return this.state.items.map(function(t){var n="/content/edit/".concat(t.id);return c.a.createElement("tr",{key:t.id},c.a.createElement("td",null,c.a.createElement(o.b,{to:n,className:"item"},t.title)),c.a.createElement("td",null,t.contentType),c.a.createElement("td",{className:"collapsing"},t.id),c.a.createElement("td",{className:"collapsing"},t.dateModified),c.a.createElement("td",{className:"collapsing"},c.a.createElement("div",{className:"ui icon buttons"},c.a.createElement("button",{className:"ui basic button",onClick:function(){return e.deleteContent(t.id)}},c.a.createElement("i",{className:"trash alternate outline icon"})))))})}},{key:"componentDidMount",value:function(){this.getContentIndex()}},{key:"render",value:function(){var e="ui ".concat(this.state.isLoading?"active":""," inverted dimmer");return c.a.createElement("div",null,c.a.createElement(o.b,{to:"/content/new",className:"ui right floated primary button"},"New Content"),c.a.createElement("h1",null,"Content List"),c.a.createElement("div",{className:e},c.a.createElement("div",{className:"ui text loader"},"Working...")),c.a.createElement("table",{className:"ui celled striped compact table"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Title"),c.a.createElement("th",null,"Content Type"),c.a.createElement("th",null,"ID"),c.a.createElement("th",null,"Date Modified"),c.a.createElement("th",null))),c.a.createElement("tbody",null,this.renderList())))}}]),t}(c.a.Component),O=n(25),j=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(c)))).state={item:{id:"",contentType:"content",title:"",subTitle:"",copyText:"",dateCreated:"",dateModified:""}},n.handleChange=function(e){var t=Object(O.a)({},n.state).item,a=e.target,c=a.name,r=a.value;t[c]=r,n.setState({item:t})},n.onFormSubmit=function(e){e.preventDefault(),n.props.onFormSubmit()},n.onFormCancel=function(e){e.preventDefault(),n.props.onFormCancel()},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.setState({item:this.props.item})}},{key:"componentDidUpdate",value:function(){this.props.item.id!==this.state.item.id&&this.setState({item:this.props.item})}},{key:"render",value:function(){var e=this.state.item;return c.a.createElement("div",{className:"ui form"},c.a.createElement("p",null,"All fields must have values. Validation to be added."),c.a.createElement("div",{className:"disabled field"},c.a.createElement("label",{htmlFor:"id"},"ID"),c.a.createElement("input",{name:"id",type:"text",placeholder:"id",value:e.id,readOnly:!0})),c.a.createElement("div",{className:"required field"},c.a.createElement("label",{htmlFor:"contentType"},"Content Type"),c.a.createElement("select",{name:"contentType",type:"text",placeholder:"content type",value:e.contentType,onChange:this.handleChange},c.a.createElement("option",{value:"content"},"Content"))),c.a.createElement("div",{className:"required field"},c.a.createElement("label",{htmlFor:"title"},"Title"),c.a.createElement("input",{name:"title",type:"text",placeholder:"title",value:e.title,onChange:this.handleChange})),c.a.createElement("div",{className:"required field"},c.a.createElement("label",{htmlFor:"subTitle"},"Subtitle"),c.a.createElement("input",{name:"subTitle",type:"text",placeholder:"subtitle",value:e.subTitle,onChange:this.handleChange})),c.a.createElement("div",{className:"required field"},c.a.createElement("label",{htmlFor:"copyText"},"Copy Text"),c.a.createElement("textarea",{name:"copyText",placeholder:"copy text",value:e.copyText,onChange:this.handleChange})),c.a.createElement("div",{className:"disabled field"},c.a.createElement("label",{htmlFor:"dateCreated"},"Date Created"),c.a.createElement("input",{name:"dateCreated",type:"text",placeholder:"date created",value:e.dateCreated,readOnly:!0})),c.a.createElement("div",{className:"disabled field"},c.a.createElement("label",{htmlFor:"dateModified"},"Date Modified"),c.a.createElement("input",{name:"dateModified",type:"text",placeholder:"date modifed",value:e.dateModified,readOnly:!0})),c.a.createElement("div",null,c.a.createElement("button",{className:"ui secondary basic button",onClick:this.onFormCancel},"Cancel"),c.a.createElement("button",{className:"ui primary button",onClick:this.onFormSubmit},"Save")))}}]),t}(c.a.Component),S=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(c)))).state={item:{id:"",contentType:"",title:"",subTitle:"",copyText:"",dateCreated:"",dateModified:""},redirect:!1,isLoading:!1},n.postContent=Object(d.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isLoading:!0}),e.next=3,b(n.state.item);case 3:t=e.sent,console.log("postContent: ".concat(JSON.stringify(t))),n.setState({isLoading:!1,redirect:!0});case 6:case"end":return e.stop()}},e)})),n.onFormCancel=function(){n.setState({redirect:!0})},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){if(this.state.redirect)return c.a.createElement(l.a,{to:"/"});var e="ui ".concat(this.state.isLoading?"active":""," inverted dimmer");return c.a.createElement("div",null,c.a.createElement("h1",null,"New Content"),c.a.createElement("div",{className:e},c.a.createElement("div",{className:"ui text loader"},"Working...")),c.a.createElement(j,{item:this.state.item,onFormSubmit:this.postContent,onFormCancel:this.onFormCancel}))}}]),t}(c.a.Component),w=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(c)))).state={item:{id:"",contentType:"",title:"",subTitle:"",copyText:"",dateCreated:"",dateModified:""},redirect:!1,isLoading:!1},n.getContent=function(){var e=Object(d.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isLoading:!0}),e.next=3,y(t);case 3:a=e.sent,n.setState({item:a,isLoading:!1});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.putContent=Object(d.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isLoading:!0}),e.next=3,C(n.state.item);case 3:n.setState({isLoading:!1,redirect:!0});case 4:case"end":return e.stop()}},e)})),n.onFormCancel=function(){n.setState({redirect:!0})},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.getContent(this.props.match.params.id)}},{key:"handleLoader",value:function(){return this.state.isLoading?c.a.createElement("div",{className:"ui segment"},c.a.createElement("div",{className:"ui active inverted dimmer"},c.a.createElement("div",{className:"ui text loader"},"Loading")),c.a.createElement("p",null)):c.a.createElement(j,{item:this.state.item,onFormSubmit:this.putContent,onFormCancel:this.onFormCancel})}},{key:"render",value:function(){if(this.state.redirect)return c.a.createElement(l.a,{to:"/"});var e="ui ".concat(this.state.isLoading?"active":""," inverted dimmer");return c.a.createElement("div",null,c.a.createElement("h1",null,"Edit Content"),c.a.createElement("div",{className:e},c.a.createElement("div",{className:"ui text loader"},"Working...")),c.a.createElement(j,{item:this.state.item,onFormSubmit:this.putContent,onFormCancel:this.onFormCancel}))}}]),t}(c.a.Component),T=function(){return c.a.createElement("div",{className:"ui segment"},c.a.createElement("h1",null,"Digital eXperience Manager"))},k=function(){return c.a.createElement("div",{className:"ui container"},c.a.createElement(o.a,{basename:"/"},c.a.createElement(T,null),c.a.createElement(l.b,{path:"/",exact:!0,component:N}),c.a.createElement(l.b,{path:"/content/edit/:id",exact:!0,component:w}),c.a.createElement(l.b,{path:"/content/new",exact:!0,component:S})))};i.a.render(c.a.createElement(k,null),document.querySelector("#root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.8d7e3243.chunk.js.map