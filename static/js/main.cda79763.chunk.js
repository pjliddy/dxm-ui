(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t){var n="https://kiuhmwwxi4.execute-api.us-east-1.amazonaws.com/dxm-api";e.exports={create:function(e,t){return fetch("".concat(n,"/").concat(e),{method:"POST",body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){return e},function(e){console.log(e)})},index:function(e){return fetch("".concat(n,"/").concat(e)).then(function(e){return e.json()}).then(function(e){return e},function(e){console.log(e)})},read:function(e,t){return fetch("".concat(n,"/").concat(e,"/").concat(t)).then(function(e){return e.json()}).then(function(e){return e},function(e){console.log(e)})},update:function(e,t){return fetch("".concat(n,"/").concat(e,"/").concat(t.id),{method:"PUT",body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){return e},function(e){console.log(e)})},destroy:function(e,t){return fetch("".concat(n,"/").concat(e,"/").concat(t),{method:"DELETE"}).then(function(e){return e.json()}).then(function(e){return e},function(e){console.log(e)})}}},27:function(e,t,n){e.exports=n(37)},37:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(23),i=n.n(c),r=n(14),l=n(13),s=function(){return o.a.createElement("div",{className:"ui segment"},o.a.createElement("h1",null,"Digital eXperience Manager"))},u=n(2),d=n.n(u),m=n(11),p=n(6),h=n(7),f=n(9),v=n(8),E=n(10),b=n(12),C=n.n(b),y="https://dxm-site-repo.s3.amazonaws.com",w="https://dxm-content-lake.s3.amazonaws.com",N=function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(f.a)(this,Object(v.a)(t).call(this))).listContent=Object(m.a)(d.a.mark(function t(){var n;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isLoading:!0}),t.next=3,C.a.index(e.apiResource);case 3:n=t.sent,e.setState({isLoading:!1,nodes:n});case 5:case"end":return t.stop()}},t)})),e.deleteContent=function(){var t=Object(m.a)(d.a.mark(function t(n){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isLoading:!0}),t.next=3,C.a.destroy(e.apiResource,n);case 3:e.listContent(),e.setState({isLoading:!1});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.onPreview=function(e){window.open("".concat(y,"/").concat(e.contentType,"/").concat(e.id,".html"))},e.onShowLake=function(e){window.open("".concat(w,"/").concat(e.contentType,"/").concat(e.id,".json"))},e.apiResource="nodes",e.state={nodes:[],isLoading:!1},e}return Object(E.a)(t,e),Object(h.a)(t,[{key:"renderList",value:function(){var e=this;return this.state.nodes.map(function(t){var n="/content/edit/".concat(t.id);return o.a.createElement("tr",{key:t.id},o.a.createElement("td",null,o.a.createElement(r.b,{to:n,className:"node"},t.title)),o.a.createElement("td",null,t.contentType),o.a.createElement("td",{className:"collapsing"},t.id),o.a.createElement("td",{className:"collapsing"},t.dateModified),o.a.createElement("td",{className:"collapsing"},o.a.createElement("div",{className:"ui icon buttons"},o.a.createElement("button",{className:"ui basic button","data-tooltip":"Show JSON","data-position":"top right",onClick:function(){return e.onShowLake(t)}},o.a.createElement("i",{className:"code icon"})),o.a.createElement("button",{className:"ui basic button","data-tooltip":"Preview in Browser","data-position":"top right",onClick:function(){return e.onPreview(t)}},o.a.createElement("i",{className:"desktop icon"})),o.a.createElement("button",{className:"ui basic button","data-tooltip":"Delete Content","data-position":"top right",onClick:function(){return e.deleteContent(t.id)}},o.a.createElement("i",{className:"trash alternate outline icon"})))))})}},{key:"componentDidMount",value:function(){this.listContent()}},{key:"render",value:function(){var e="ui ".concat(this.state.isLoading?"active":""," inverted dimmer");return o.a.createElement("div",null,o.a.createElement(r.b,{to:"/content/new",className:"ui right floated primary button"},o.a.createElement("i",{className:"plus sqaure icon"}),"New Content"),o.a.createElement("h1",null,"Content List"),o.a.createElement("div",{className:e},o.a.createElement("div",{className:"ui text loader"},"Working...")),o.a.createElement("table",{className:"ui celled striped compact table"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Title"),o.a.createElement("th",null,"Content Type"),o.a.createElement("th",null,"ID"),o.a.createElement("th",null,"Date Modified"),o.a.createElement("th",null))),o.a.createElement("tbody",null,this.renderList())))}}]),t}(o.a.Component),g=n(26),x="https://dxm-site-repo.s3.amazonaws.com",k="https://dxm-content-lake.s3.amazonaws.com",S=function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(f.a)(this,Object(v.a)(t).call(this))).handleChange=function(t){var n=Object(g.a)({},e.state).node,a=t.target,o=a.name,c=a.value;n[o]=c,e.setState({node:n})},e.onFormSubmit=function(t){t.preventDefault(),e.props.onFormSubmit(e.state.node)},e.onFormCancel=function(t){t.preventDefault(),e.props.onFormCancel()},e.onPreview=function(){var t=e.state.node;window.open("".concat(x,"/").concat(t.contentType,"/").concat(t.id,".html"))},e.onShowLake=function(){var t=e.state.node;window.open("".concat(k,"/").concat(t.contentType,"/").concat(t.id,".json"))},e.onSaveAndPreview=function(t){e.onFormSubmit(t),e.onPreview(t)},e.apiResource="compose",e.state={node:{id:"",contentType:"content",title:"",subTitle:"",copyText:"",dateCreated:"",dateModified:""},isNew:!1},e}return Object(E.a)(t,e),Object(h.a)(t,[{key:"nodeToState",value:function(){this.props.node.id&&this.props.node.id!==this.state.node.id&&this.setState({node:this.props.node})}},{key:"componentDidMount",value:function(){this.setState({isNew:this.props.isNew}),this.nodeToState()}},{key:"componentDidUpdate",value:function(){this.nodeToState()}},{key:"render",value:function(){var e=this.state.node,t=null,n=null,a=null,c=null,i=null;return this.state.isNew||(t=o.a.createElement("div",{className:"disabled field"},o.a.createElement("label",{htmlFor:"id"},"ID"),o.a.createElement("input",{name:"id",type:"text",placeholder:"id",value:e.id,readOnly:!0})),n=o.a.createElement("div",{className:"disabled field"},o.a.createElement("label",{htmlFor:"dateCreated"},"Date Created"),o.a.createElement("input",{name:"dateCreated",type:"text",placeholder:"date created",value:e.dateCreated,readOnly:!0})),a=o.a.createElement("div",{className:"disabled field"},o.a.createElement("label",{htmlFor:"dateModified"},"Date Modified"),o.a.createElement("input",{name:"dateModified",type:"text",placeholder:"date modifed",value:e.dateModified,readOnly:!0})),c=o.a.createElement("button",{className:"ui button",onClick:this.onPreview},o.a.createElement("i",{className:"desktop icon"}),"Preview"),i=o.a.createElement("button",{className:"ui button",onClick:this.onShowLake},o.a.createElement("i",{className:"code icon"}),"Content Lake")),o.a.createElement("div",{className:"ui form"},o.a.createElement("p",null,"All fields must have values. Validation to be added."),t,o.a.createElement("div",{className:"required field"},o.a.createElement("label",{htmlFor:"contentType"},"Content Type"),o.a.createElement("select",{name:"contentType",type:"text",placeholder:"content type",value:e.contentType,onChange:this.handleChange},o.a.createElement("option",{value:""},"Content Type"),o.a.createElement("option",{value:"content"},"Content"))),o.a.createElement("div",{className:"required field"},o.a.createElement("label",{htmlFor:"title"},"Title"),o.a.createElement("input",{name:"title",type:"text",placeholder:"title",value:e.title,onChange:this.handleChange})),o.a.createElement("div",{className:"required field"},o.a.createElement("label",{htmlFor:"subTitle"},"Subtitle"),o.a.createElement("input",{name:"subTitle",type:"text",placeholder:"subtitle",value:e.subTitle,onChange:this.handleChange})),o.a.createElement("div",{className:"required field"},o.a.createElement("label",{htmlFor:"copyText"},"Copy Text"),o.a.createElement("textarea",{name:"copyText",placeholder:"copy text",value:e.copyText,onChange:this.handleChange})),n,a,o.a.createElement("div",null,o.a.createElement("button",{className:"ui secondary basic button",title:"Cancel",onClick:this.onFormCancel},o.a.createElement("i",{className:"close icon"}),"Cancel"),i,c,o.a.createElement("button",{className:"ui primary button",title:"Save",onClick:this.onFormSubmit},o.a.createElement("i",{className:"save icon"}),"Save")))}}]),t}(o.a.Component),T=function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(f.a)(this,Object(v.a)(t).call(this))).createContent=function(){var t=Object(m.a)(d.a.mark(function t(n){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isLoading:!0}),t.next=3,C.a.create(e.apiResource,n);case 3:e.setState({isLoading:!1,redirect:!0});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.onFormCancel=function(){e.setState({redirect:!0})},e.apiResource="nodes",e.state={node:{id:"",contentType:"",title:"",subTitle:"",copyText:"",dateCreated:"",dateModified:""},redirect:!1,isLoading:!1},e}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){if(this.state.redirect)return o.a.createElement(l.a,{to:"/"});var e="ui ".concat(this.state.isLoading?"active":""," inverted dimmer");return o.a.createElement("div",null,o.a.createElement("h1",null,"New Content"),o.a.createElement("div",{className:e},o.a.createElement("div",{className:"ui text loader"},"Working...")),o.a.createElement(S,{node:this.state.node,isNew:!0,onFormSubmit:this.createContent,onFormCancel:this.onFormCancel}))}}]),t}(o.a.Component),j=function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(f.a)(this,Object(v.a)(t).call(this))).showContent=function(){var t=Object(m.a)(d.a.mark(function t(n){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isLoading:!0}),t.next=3,C.a.read(e.apiResource,n);case 3:a=t.sent,e.setState({node:a,isLoading:!1});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.updateContent=Object(m.a)(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isLoading:!0}),t.next=3,C.a.update(e.apiResource,e.state.node);case 3:e.setState({isLoading:!1,redirect:!0});case 4:case"end":return t.stop()}},t)})),e.onFormCancel=function(){e.setState({redirect:!0})},e.apiResource="nodes",e.state={node:{id:"",contentType:"",title:"",subTitle:"",copyText:"",dateCreated:"",dateModified:""},redirect:!1,isLoading:!1},e}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.showContent(this.props.match.params.id)}},{key:"handleLoader",value:function(){return this.state.isLoading?o.a.createElement("div",{className:"ui segment"},o.a.createElement("div",{className:"ui active inverted dimmer"},o.a.createElement("div",{className:"ui text loader"},"Loading")),o.a.createElement("p",null)):o.a.createElement(S,{node:this.state.node,onFormSubmit:this.updateContent,onFormCancel:this.onFormCancel})}},{key:"render",value:function(){if(this.state.redirect)return o.a.createElement(l.a,{to:"/"});var e="ui ".concat(this.state.isLoading?"active":""," inverted dimmer");return o.a.createElement("div",null,o.a.createElement("h1",null,"Edit Content"),o.a.createElement("div",{className:e},o.a.createElement("div",{className:"ui text loader"},"Working...")),o.a.createElement(S,{node:this.state.node,onFormSubmit:this.updateContent,onFormCancel:this.onFormCancel}))}}]),t}(o.a.Component),O=function(){return o.a.createElement("div",{className:"ui container"},o.a.createElement(r.a,{basename:"/"},o.a.createElement(s,null),o.a.createElement(l.b,{path:"/",exact:!0,component:N}),o.a.createElement(l.b,{path:"/content/edit/:id",exact:!0,component:j}),o.a.createElement(l.b,{path:"/content/new",exact:!0,component:T})))};i.a.render(o.a.createElement(O,null),document.querySelector("#root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.cda79763.chunk.js.map