{"version":3,"sources":["config.js","components/api/Api.js","components/Header.js","components/views/ContentList.js","components/ContentForm.js","components/views/ContentCreate.js","components/views/ContentEdit.js","components/views/AssetList.js","components/AssetForm.js","components/views/AssetEdit.js","components/views/AssetCreate.js","components/App.js","index.js"],"names":["__webpack_require__","r","__webpack_exports__","d","API_BASE_URL","ASSET_REPO_BUCKET","ASSET_REPO_PATH","CONTENT_LAKE_URL","SITE_REPO_URL","CONTENT_RESOURCE","ASSET_RESOURCE","require","module","exports","create","body","resource","params","url","URL","concat","search","URLSearchParams","fetch","method","JSON","stringify","then","response","json","error","console","log","index","read","id","update","destroy","Header","react_default","a","createElement","className","react_router_dom","to","ContentList","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","listContent","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","setState","isLoading","Api","apiResource","sent","nodes","stop","deleteContent","_ref2","_callee2","_context2","_x","apply","arguments","onPreview","node","window","open","dataType","onShowJson","state","_this2","filter","map","linkPath","key","title","dateModified","data-tooltip","data-position","onClick","loaderStyles","renderList","React","Component","ContentForm","handleChange","event","currentState","objectSpread","_event$target","target","name","value","onFormSubmit","preventDefault","props","onFormCancel","subTitle","copyText","dateCreated","isNew","nodeToState","idField","dateCreatedField","dateModifiedField","previewButton","jsonButton","htmlFor","type","placeholder","readOnly","onChange","ContentCreate","createContent","_ref","redirect","react_router","components_ContentForm","ContentEdit","showContent","updateContent","match","AssetList","listAssets","assets","deleteAsset","asset","src","alt","file","size","toFixed","AssetForm","handleFileChange","fileObj","files","fileData","selectedFile","data","assetToState","imagePreview","AssetEdit","showAsset","updateAsset","_ref3","_ref4","uploadURL","getPresignedUrl","uploadAsset","_x2","_ref5","_callee3","s3Params","urlParams","_context3","Bucket","Key","ACL","ContentType","getSignedUrl","abrupt","_x3","_x4","_ref6","_callee4","uploadUrl","config","_context4","headers","Content-Type","onUploadProgress","progressEvent","progress","Number","parseInt","loaded","axios","put","split","t0","_x5","_x6","components_AssetForm","AssetCreate","createAsset","App","style","margin","basename","components_Header","path","exact","component","ReactDOM","render","components_App","document","querySelector"],"mappings":"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","file":"static/js/main.da769e0c.chunk.js","sourcesContent":["export const API_BASE_URL = 'https://kiuhmwwxi4.execute-api.us-east-1.amazonaws.com/dxm-api';\nexport const ASSET_REPO_BUCKET = 'dxm-file-repo';\n// don't duplicate value for ASSET_REPO_PATH and ASSET_RESOURCE\nexport const ASSET_REPO_PATH = 'assets';\nexport const CONTENT_LAKE_URL = 'https://dxm-content-lake.s3.amazonaws.com';\nexport const SITE_REPO_URL = 'https://dxm-site-repo.s3.amazonaws.com';\nexport const CONTENT_RESOURCE = 'nodes';\nexport const ASSET_RESOURCE = 'assets';\n","const API_BASE_URL = require('../../config').API_BASE_URL\n\nconst create = (body, resource, params) => {\n  const url = new URL(`${API_BASE_URL}/${resource}`);\n  url.search = new URLSearchParams(params);\n\n  return fetch(url, {\n      method: 'POST',\n      body: JSON.stringify(body)\n  })\n    .then(response => response.json())\n    .then(\n      (response) => {\n        return response;\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n};\n\nconst index = (resource) => {\n  return fetch(`${API_BASE_URL}/${resource}`)\n    .then(response => response.json())\n    .then(\n      (response) => {\n        return response;\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n};\n\nconst read = (id, resource) => {\n  return fetch(`${API_BASE_URL}/${resource}/${id}`)\n    .then(response => response.json())\n    .then(\n      (response) => {\n        return response;\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n};\n\nconst update = (body, resource) => {\n  return fetch(`${API_BASE_URL}/${resource}/${body.id}`, {\n      method: 'PUT',\n      body: JSON.stringify(body)\n  })\n    .then(response => response.json())\n    .then(\n      (response) => {\n        return response;\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n};\n\nconst destroy = (id, resource) => {\n  return fetch(`${API_BASE_URL}/${resource}/${id}`, {\n      method: 'DELETE'\n  })\n    .then(response => response.json())\n    .then(\n      (response) => {\n        return response;\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n};\n\nmodule.exports = {\n  create,\n  index,\n  read,\n  update,\n  destroy\n};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Header = () => {\n  return (\n    <div className=\"ui stackable main menu\">\n      <div className=\"header item\">\n        Digital eXperience Manager\n      </div>\n      <div className=\"right menu\">\n        <Link to='/' className=\"item\">\n          Content\n        </Link>\n        <Link to='/assets' className=\"item\">\n          Assets\n        </Link>\n      </div>\n    </div>\n  );\n}\n\nexport default Header;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Api from '../api/Api';\nimport { CONTENT_RESOURCE, CONTENT_LAKE_URL, SITE_REPO_URL}  from '../../config';\n\nclass ContentList extends React.Component {\n  constructor() {\n    super();\n\n    this.apiResource = CONTENT_RESOURCE;\n    this.state = {\n      nodes: [],\n      isLoading: false\n    };\n  }\n\n  listContent = async () => {\n    this.setState({ isLoading: true });\n    const response = await Api.index(this.apiResource);\n    this.setState({\n      isLoading: false,\n      nodes: response\n    });\n  }\n\n  deleteContent = async (id) => {\n    this.setState({ isLoading: true });\n    await Api.destroy(id, this.apiResource);\n    this.listContent();\n    this.setState({ isLoading: false });\n  }\n\n  onPreview = (node) => {\n    window.open(`${SITE_REPO_URL}/${node.dataType}/${node.id}.html`);\n  }\n\n  onShowJson = (node) => {\n    window.open(`${CONTENT_LAKE_URL}/${node.dataType}/${node.id}.json`);\n  }\n\n  renderList() {\n    return this.state.nodes.filter(node => node.dataType !== 'asset').map(node => {\n      const linkPath = `/content/edit/${node.id}`;\n\n      return(\n        <tr key={node.id}>\n          <td>\n            <Link to={linkPath} className=\"node\">\n              {node.title}\n            </Link>\n          </td>\n          <td>\n            {node.dataType}\n          </td>\n          <td className=\"collapsing\">\n            {node.id}\n          </td>\n          <td className=\"collapsing\">\n            {node.dateModified}\n          </td>\n          <td className=\"collapsing\">\n            <div className=\"ui icon buttons\">\n              <button className=\"ui basic button\"\n                      data-tooltip=\"Show JSON\"\n                      data-position=\"top right\"\n                      onClick={() => this.onShowJson(node)}>\n                <i className=\"code icon\"></i>\n              </button>\n              <button className=\"ui basic button\"\n                      data-tooltip=\"Preview in Browser\"\n                      data-position=\"top right\"\n                      onClick={() => this.onPreview(node)}>\n                <i className=\"desktop icon\"></i>\n              </button>\n              <button className=\"ui basic button\"\n                      data-tooltip=\"Delete Content\"\n                      data-position=\"top right\"\n                      onClick={() => this.deleteContent(node.id)}>\n                <i className=\"trash alternate outline icon\"></i>\n              </button>\n            </div>\n          </td>\n        </tr>\n      );\n    });\n  }\n\n  componentDidMount() {\n    this.listContent();\n  }\n\n  render() {\n    const loaderStyles = `ui ${this.state.isLoading ? 'active' : ''} inverted dimmer`;\n\n    return (\n      <div>\n        <Link to=\"/content/new\" className=\"ui right floated primary button\">\n          <i className=\"plus sqaure icon\"></i>\n          New Content\n        </Link>\n        <h1>Content List</h1>\n        <div className={loaderStyles}>\n          <div className=\"ui text loader\">Working...</div>\n        </div>\n        <table className=\"ui celled striped compact table\">\n          <thead>\n            <tr>\n              <th>Title</th>\n              <th>Data Type</th>\n              <th>ID</th>\n              <th>Date Modified</th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            {this.renderList()}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n};\n\nexport default ContentList;\n","import React from 'react';\nimport { SITE_REPO_URL, CONTENT_LAKE_URL } from '../config';\n\nclass ContentForm extends React.Component {\n  constructor() {\n    super();\n\n    this.apiResource = 'compose';\n    this.state = {\n      node: {\n        id: '',\n        dataType: 'content',\n        title: '',\n        subTitle: '',\n        copyText: '',\n        dateCreated: '',\n        dateModified: ''\n      },\n      isNew: false\n    };\n  }\n\n  handleChange = (event) => {\n    const { node } = { ...this.state };\n    const currentState = node;\n    const { name, value } = event.target;\n    currentState[name] = value;\n\n    this.setState({ node: currentState });\n  }\n\n  onFormSubmit = (event) => {\n    event.preventDefault();\n    this.props.onFormSubmit(this.state.node);\n  }\n\n  onFormCancel = (event) => {\n    event.preventDefault();\n    this.props.onFormCancel();\n  }\n\n  onPreview = () => {\n    const node = this.state.node;\n    window.open(`${SITE_REPO_URL}/${node.dataType}/${node.id}.html`);\n  }\n\n  onShowJson = () => {\n    const node = this.state.node;\n    window.open(`${CONTENT_LAKE_URL}/${node.dataType}/${node.id}.json`);\n  }\n\n  nodeToState() {\n    if (this.props.node.id && this.props.node.id !== this.state.node.id ) {\n      this.setState({ node: this.props.node });\n    }\n  }\n\n  componentDidMount() {\n    this.setState({ isNew: this.props.isNew });\n    this.nodeToState();\n  }\n\n  componentDidUpdate() {\n    this.nodeToState();\n  }\n\n  render() {\n    const node = this.state.node;\n    const isNew = this.state.isNew\n\n    let idField = null;\n    let dateCreatedField = null;\n    let dateModifiedField = null;\n    let previewButton = null;\n    let jsonButton = null;\n\n    if (!isNew) {\n      idField = <div className=\"disabled field\">\n                  <label htmlFor=\"id\">ID</label>\n                  <input name=\"id\"\n                         type=\"text\"\n                         placeholder=\"id\"\n                         value={node.id}\n                         readOnly />\n                </div>;\n\n      dateCreatedField =  <div className=\"disabled field\">\n                            <label htmlFor=\"dateCreated\">Date Created</label>\n                            <input name=\"dateCreated\"\n                                   type=\"text\"\n                                   placeholder=\"date created\"\n                                   value={node.dateCreated}\n                                   readOnly />\n                          </div>;\n\n      dateModifiedField = <div className=\"disabled field\">\n                            <label htmlFor=\"dateModified\">Date Modified</label>\n                            <input name=\"dateModified\"\n                                   type=\"text\"\n                                   placeholder=\"date modifed\"\n                                   value={node.dateModified}\n                                   readOnly />\n                          </div>;\n\n      previewButton = <button className=\"ui button\"\n                              onClick={this.onPreview}>\n                        <i className=\"desktop icon\"></i>\n                        Preview\n                      </button>;\n\n      jsonButton = <button className=\"ui button\"\n                           onClick={this.onShowJson}>\n                      <i className=\"code icon\"></i>\n                      Show JSON\n                    </button>;\n    }\n\n    return(\n      <div className=\"ui form\">\n        <p>All fields must have values. Validation to be added.</p>\n        {idField}\n        <div className=\"required field\">\n          <label htmlFor=\"dataType\">Data Type</label>\n          <select name=\"dataType\"\n                 type=\"text\"\n                 placeholder=\"content type\"\n                 value={node.dataType}\n                 onChange={this.handleChange}>\n                    <option value=\"\">Data Type</option>\n                    <option value=\"content\">Content</option>\n          </select>\n        </div>\n        <div className=\"required field\">\n          <label htmlFor=\"title\">Title</label>\n          <input name=\"title\"\n                 type=\"text\"\n                 placeholder=\"title\"\n                 value={node.title}\n                 onChange={this.handleChange} />\n        </div>\n        <div className=\"required field\">\n          <label htmlFor=\"subTitle\">Subtitle</label>\n          <input name=\"subTitle\"\n                 type=\"text\"\n                 placeholder=\"subtitle\"\n                 value={node.subTitle}\n                 onChange={this.handleChange} />\n        </div>\n        <div className=\"required field\">\n          <label htmlFor=\"copyText\">Copy Text</label>\n          <textarea name=\"copyText\"\n                 placeholder=\"copy text\"\n                 value={node.copyText}\n                 onChange={this.handleChange}></textarea>\n        </div>\n        {dateCreatedField}\n        {dateModifiedField}\n        <div>\n          <button className=\"ui secondary basic button\"\n                  title=\"Cancel\"\n                  onClick={this.onFormCancel}>\n            <i className=\"close icon\"></i>\n            Cancel\n          </button>\n          {jsonButton}\n          {previewButton}\n          <button className=\"ui primary button\"\n                  title=\"Save\"\n                  onClick={this.onFormSubmit}>\n            <i className=\"save icon\"></i>\n            Save\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ContentForm;\n","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Api from '../api/Api';\nimport ContentForm from '../ContentForm';\nimport { CONTENT_RESOURCE }  from '../../config';\n\nclass ContentCreate extends React.Component {\n  constructor() {\n    super();\n\n    this.apiResource = CONTENT_RESOURCE;\n    this.state = {\n      node: {\n        id: '',\n        dataType: '',\n        title: '',\n        subTitle: '',\n        copyText: '',\n        dateCreated: '',\n        dateModified: ''\n      },\n      redirect: false,\n      isLoading: false\n    };\n  }\n\n  createContent = async (node) => {\n    this.setState({ isLoading: true });\n    await Api.create(node, this.apiResource);\n\n    this.setState({\n      isLoading: false,\n      redirect: true\n    });\n  }\n\n  onFormCancel = () => {\n    this.setState({ redirect: true });\n  }\n\n  render() {\n    if (this.state.redirect) { return <Redirect to=\"/\" />; }\n\n    const loaderStyles = `ui ${this.state.isLoading ? 'active' : ''} inverted dimmer`;\n\n    return (\n      <div>\n        <h1>New Content</h1>\n        <div className={loaderStyles}>\n          <div className=\"ui text loader\">Working...</div>\n        </div>\n        <ContentForm node={this.state.node}\n                     isNew={true}\n                     onFormSubmit={this.createContent}\n                     onFormCancel={this.onFormCancel}/>\n       </div>\n    );\n  }\n};\n\nexport default ContentCreate;\n","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Api from '../api/Api';\nimport ContentForm from '../ContentForm';\nimport { CONTENT_RESOURCE }  from '../../config';\n\nclass ContentEdit extends React.Component {\n  constructor() {\n    super();\n\n    this.apiResource = CONTENT_RESOURCE;\n    this.state = {\n      node: {\n        id: '',\n        dataType: '',\n        title: '',\n        subTitle: '',\n        copyText: '',\n        dateCreated: '',\n        dateModified: ''\n      },\n      redirect: false,\n      isLoading: false\n    };\n  }\n\n  showContent = async (id) => {\n    this.setState({ isLoading: true });\n    const response = await Api.read(id, this.apiResource);\n    this.setState({\n      node: response,\n      isLoading: false\n    });\n  }\n\n  updateContent = async () => {\n    this.setState({ isLoading: true });\n    await Api.update(this.state.node, this.apiResource);\n\n    // update content without mutating\n\n    this.setState({\n      isLoading: false,\n      redirect: true\n    });\n  }\n\n  onFormCancel = () => {\n    this.setState({ redirect: true });\n  }\n\n  componentDidMount() {\n    this.showContent(this.props.match.params.id);\n  }\n\n  render() {\n    if (this.state.redirect) { return <Redirect to=\"/\" />; }\n\n    const loaderStyles = `ui ${this.state.isLoading ? 'active' : ''} inverted dimmer`;\n\n    return (\n      <div>\n        <h1>Edit Content</h1>\n        <div className={loaderStyles}>\n          <div className=\"ui text loader\">Working...</div>\n        </div>\n        <ContentForm node={this.state.node}\n                     onFormSubmit={this.updateContent}\n                     onFormCancel={this.onFormCancel}/>\n      </div>\n    );\n  }\n};\n\nexport default ContentEdit;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Api from '../api/Api';\nimport { ASSET_RESOURCE, CONTENT_LAKE_URL }  from '../../config';\n\nclass AssetList extends React.Component {\n  constructor() {\n    super();\n\n    this.apiResource = ASSET_RESOURCE;\n    this.state = {\n      assets: [],\n      isLoading: false\n    };\n  }\n\n  listAssets = async () => {\n    this.setState({ isLoading: true });\n    const response = await Api.index(this.apiResource);\n\n    this.setState({\n      isLoading: false,\n      assets: response\n    });\n  }\n\n  deleteAsset = async (id) => {\n    this.setState({ isLoading: true });\n    await Api.destroy(id, this.apiResource);\n\n    this.listAssets();\n    this.setState({ isLoading: false });\n  }\n\n  onShowJson = (node) => {\n    window.open(`${CONTENT_LAKE_URL}/${node.dataType}/${node.id}.json`);\n  }\n\n  componentDidMount() {\n    this.listAssets();\n  }\n\n  renderList() {\n    /*\n      S3 Object:\n      {\n          \"Key\": \"assets/apollo.jpg\",\n          \"LastModified\": \"2019-07-25T15:35:43.000Z\",\n          \"ETag\": \"\\\"41e9525c71922900254ae99762bb4585\\\"\",\n          \"Size\": 462901,\n          \"StorageClass\": \"STANDARD\"\n      }\n    */\n    return this.state.assets.filter(asset => asset.dataType === 'asset').map(asset => {\n      const linkPath = `/assets/edit/${asset.id}`;\n\n      return (\n        <div className=\"item\"\n             key={asset.id}>\n          <img className=\"ui small image\"\n               src={asset.url}\n               alt=\"alt text placeholder\"></img>\n          <div className=\"content\">\n            <Link to={linkPath} className=\"header\">\n              {asset.title}\n            </Link>\n            <div className=\"description\">\n              <p><strong>Date Modified: </strong>{asset.dateModified}<br />\n              <strong>File Size: </strong>{(asset.file.size / 1024).toFixed(0)} kB<br />\n              <strong>File Type: </strong>{asset.file.type}</p>\n            </div>\n          </div>\n          <div className=\"ui icon buttons right floated content\">\n            <button className=\"ui basic button\"\n                    data-tooltip=\"Show JSON\"\n                    data-position=\"top right\"\n                    onClick={() => this.onShowJson(asset)}>\n              <i className=\"code icon\"></i>\n            </button>\n            <button className=\"ui basic button\"\n                    data-tooltip=\"Delete Asset\"\n                    data-position=\"top right\"\n                    onClick={() => this.deleteAsset(asset.id)}>\n              <i className=\"trash alternate outline icon\"></i>\n            </button>\n          </div>\n        </div>\n      );\n    });\n  }\n\n  render() {\n    const loaderStyles = `ui ${this.state.isLoading ? 'active' : ''} inverted dimmer`;\n\n    return (\n      <div>\n        <Link to=\"/assets/new\" className=\"ui right floated primary button\">\n          <i className=\"plus sqaure icon\"></i>\n          New Asset\n        </Link>\n        <h1>Asset List</h1>\n        <div className={loaderStyles}>\n          <div className=\"ui text loader\">Working...</div>\n        </div>\n\n        <div className=\"ui divided relaxed list\">\n          {this.renderList()}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default AssetList;\n","import React from 'react';\nimport { ASSET_RESOURCE, CONTENT_LAKE_URL } from '../config';\n\nclass AssetForm extends React.Component {\n  constructor() {\n    super();\n\n    this.apiResource = ASSET_RESOURCE;\n    this.state = {\n      asset: {\n        id: '',\n        dataType: 'asset',\n        title: '',\n        dateCreated: '',\n        dateModified: '',\n        url: '',\n        file: {\n          name: '',\n          size: '',\n          type: ''\n        }\n      },\n      isNew: false,\n      selectedFile: ''\n    };\n  }\n\n  handleChange = (event) => {\n    const { asset } = { ...this.state };\n    const currentState = asset;\n    const { name, value } = event.target;\n    currentState[name] = value;\n\n    this.setState({ asset: currentState });\n  }\n\n  handleFileChange = (event) => {\n    const fileObj = event.target.files[0];\n    const fileData = {\n      name: fileObj.name,\n      size: fileObj.size,\n      type: fileObj.type\n    };\n    const { asset } = { ...this.state };\n    const currentState = asset;\n    currentState.file = fileData;\n\n    this.setState({\n      file: currentState.file,\n      selectedFile: fileObj\n    });\n  }\n\n  onFormSubmit = (event) => {\n    event.preventDefault();\n\n    const data = {\n      asset: this.state.asset,\n      file: this.state.selectedFile\n    };\n\n    this.props.onFormSubmit(data);\n  }\n\n  onFormCancel = (event) => {\n    event.preventDefault();\n    this.props.onFormCancel();\n  }\n\n  onShowJson = () => {\n    const asset = this.state.asset;\n    window.open(`${CONTENT_LAKE_URL}/${asset.dataType}/${asset.id}.json`);\n  }\n\n  assetToState() {\n    if (this.props.asset.id && this.props.asset.id !== this.state.asset.id ) {\n      this.setState({ asset: this.props.asset });\n    }\n  }\n\n  componentDidMount() {\n    this.setState({ isNew: this.props.isNew });\n    this.assetToState();\n  }\n\n  componentDidUpdate() {\n    this.assetToState();\n  }\n\n  render() {\n    const asset = this.state.asset;\n    const isNew = this.state.isNew\n\n    let idField = null;\n    let imagePreview = null;\n    let dateCreatedField = null;\n    let dateModifiedField = null;\n    let jsonButton = null;\n\n    if (!isNew) {\n      idField = <div className=\"disabled field\">\n                  <label htmlFor=\"id\">ID</label>\n                  <input name=\"id\"\n                         type=\"text\"\n                         placeholder=\"id\"\n                         value={asset.id}\n                         readOnly />\n                 </div>;\n\n      dateCreatedField =  <div className=\"disabled field\">\n                            <label htmlFor=\"dateCreated\">Date Created</label>\n                            <input name=\"dateCreated\"\n                                   type=\"text\"\n                                   placeholder=\"date created\"\n                                   value={asset.dateCreated}\n                                   readOnly />\n                          </div>;\n\n      dateModifiedField = <div className=\"disabled field\">\n                            <label htmlFor=\"dateModified\">Date Modified</label>\n                            <input name=\"dateModified\"\n                                   type=\"text\"\n                                   placeholder=\"date modifed\"\n                                   value={asset.dateModified}\n                                   readOnly />\n                          </div>;\n\n      imagePreview =  <div>\n                        <div className=\"ui hidden divider\"></div>\n                        <img className=\"ui big image\"\n                         src={this.state.asset.url}\n                         alt=\"alt text placeholder\">\n                       </img>\n                       <div className=\"ui divider\"></div>\n                     </div>;\n\n      jsonButton = <button className=\"ui button\"\n                          onClick={this.onShowJson}>\n                     <i className=\"code icon\"></i>\n                     Show JSON\n                   </button>;\n  }\n\n    /*\n      create upload component in React?\n      disable upload button during upload?\n    */\n\n    return(\n      <div className=\"ui form\">\n        <p>All fields must have values. Validation to be added.</p>\n        {idField}\n        <div className=\"required field\">\n          <label htmlFor=\"dataType\">Data Type</label>\n          <select name=\"dataType\"\n                 type=\"text\"\n                 placeholder=\"content type\"\n                 value={asset.dataType}\n                 onChange={this.handleChange}>\n                    <option value=\"\">Data Type</option>\n                    <option value=\"asset\">Asset</option>\n          </select>\n        </div>\n        <div className=\"required field\">\n          <label htmlFor=\"title\">Title</label>\n          <input name=\"title\"\n                 type=\"text\"\n                 placeholder=\"title\"\n                 value={asset.title}\n                 onChange={this.handleChange} />\n        </div>\n        <div className=\"field\">\n          <label htmlFor=\"file\">File</label>\n          <input name=\"fileName\"\n                 type=\"file\"\n                 onChange={this.handleFileChange} />\n          {imagePreview}\n        </div>\n        {dateCreatedField}\n        {dateModifiedField}\n        <div>\n          <button className=\"ui secondary basic button\"\n                  title=\"Cancel\"\n                  onClick={this.onFormCancel}>\n            <i className=\"close icon\"></i>\n            Cancel\n          </button>\n          {jsonButton}\n          <button className=\"ui primary button\"\n                  title=\"Save\"\n                  onClick={this.onFormSubmit}>\n            <i className=\"save icon\"></i>\n            Save\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default AssetForm;\n","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Api from '../api/Api';\nimport AssetForm from '../AssetForm';\nimport { ASSET_RESOURCE, ASSET_REPO_BUCKET, ASSET_REPO_PATH}  from '../../config';\nimport axios from 'axios';\n\n/*\n  S3 Object:\n  {\n      \"Key\": \"assets/apollo.jpg\",\n      \"LastModified\": \"2019-07-25T15:35:43.000Z\",\n      \"ETag\": \"\\\"41e9525c71922900254ae99762bb4585\\\"\",\n      \"Size\": 462901,\n      \"StorageClass\": \"STANDARD\"\n  }\n*/\n\nclass AssetEdit extends React.Component {\n  constructor() {\n    super();\n\n    this.apiResource = ASSET_RESOURCE;\n    this.state = {\n      asset: {\n        id: '',\n        dataType: '',\n        title: '',\n        dateCreated: '',\n        dateModified: '',\n        url: '',\n        file: {\n          name: '',\n          size: '',\n          type: ''\n        }\n      },\n      redirect: false,\n      isLoading: false,\n      selectedFile: ''\n    };\n  }\n\n  showAsset = async (id) => {\n    this.setState({ isLoading: true });\n    const response = await Api.read(id, this.apiResource);\n    this.setState({\n      asset: response,\n      isLoading: false\n    });\n  }\n\n  /*\n    Need to delete existing asset image if updated\n  */\n\n  updateAsset = async ({asset, file}) => {\n    this.setState({ isLoading: true });\n\n    // only if asset changes\n    const { uploadURL } = await this.getPresignedUrl(asset, file);\n\n    // update asset without mutating\n    const fileData = {\n      name: file.name,\n      size: file.size,\n      type: file.type\n    };\n\n    console.log(JSON.stringify(fileData));\n\n    // const { asset } = { ...this.state };\n    // const currentState = asset;\n    asset.file = fileData;\n    asset.url = await this.uploadAsset(uploadURL, file)\n\n    this.setState({\n      asset: asset\n    })\n\n    await Api.update(this.state.asset, this.apiResource);\n\n    this.setState({\n      isLoading: false,\n      redirect: true\n    });\n  }\n\n  getPresignedUrl = async (asset, file) => {\n    const s3Params = {\n      'Bucket': ASSET_REPO_BUCKET,\n      'Key':  `${ASSET_REPO_PATH}/${file.name}`,\n      'ACL': 'public-read',\n      'ContentType': file.type,\n      // 'ContentDisposition': 'inline'\n    };\n\n    const urlParams = { getSignedUrl: true };\n    const response = await Api.create(s3Params, this.apiResource, urlParams);\n\n    return response;\n  }\n\n  // make into shared component, along with getPresignedUrl\n  uploadAsset = async (uploadUrl, file) => {\n    try {\n      // post file to presigned URL\n      const config = {\n        headers: {\n          'ACL': 'public-read',\n          'Content-Type': file.type,\n          // 'Content-Disposition': 'inline'\n        },\n        onUploadProgress: progressEvent => {\n          const progress = Number.parseInt(progressEvent.loaded / file.size * 100, 10);\n          console.log(`Progress: ${progress}%`);\n        }\n      }\n\n      const response = await axios.put(uploadUrl, file, config);\n      return response.config.url.split('?')[0];\n    } catch (error) {\n      return error;\n    }\n  }\n\n  onFormCancel = () => {\n    this.setState({ redirect: true });\n  }\n\n  componentDidMount() {\n    this.showAsset(this.props.match.params.id);\n  }\n\n  render() {\n    if (this.state.redirect) { return <Redirect to=\"/assets\" />; }\n\n    const loaderStyles = `ui ${this.state.isLoading ? 'active' : ''} inverted dimmer`;\n\n    return (\n      <div>\n        <h1>Edit Asset</h1>\n        <div className={loaderStyles}>\n          <div className=\"ui text loader\">Working...</div>\n        </div>\n        <AssetForm asset={this.state.asset}\n                   onFormSubmit={this.updateAsset}\n                   onFormCancel={this.onFormCancel}/>\n      </div>\n    );\n  }\n\n}\n\nexport default AssetEdit;\n","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Api from '../api/Api';\nimport AssetForm from '../AssetForm';\nimport axios from 'axios';\nimport { ASSET_RESOURCE, ASSET_REPO_BUCKET, ASSET_REPO_PATH }  from '../../config';\n\nclass AssetCreate extends React.Component {\n  constructor() {\n    super();\n\n    this.apiResource = ASSET_RESOURCE;\n    this.state = {\n      asset: {\n        id: '',\n        dataType: '',\n        title: '',\n        dateCreated: '',\n        dateModified: '',\n        url: ''\n      },\n      redirect: false,\n      isLoading: false,\n      selectedFile: ''\n    };\n  }\n\n  createAsset = async ({asset, file}) => {\n    this.setState({ isLoading: true });\n\n    // get presignded URL from assets Api\n    const { uploadURL } = await this.getPresignedUrl(asset, file);\n\n    asset.url = await this.uploadAsset(uploadURL, file)\n\n    this.setState({ asset: asset });\n\n    // what if upload fails?\n\n    // on success, create asset node in db\n    await Api.create(asset, this.apiResource);\n\n    this.setState({\n      isLoading: false,\n      redirect: true\n    });\n  }\n\n  getPresignedUrl = async (asset, file) => {\n    const s3Params = {\n      'Bucket': ASSET_REPO_BUCKET,\n      'Key':  `${ASSET_REPO_PATH}/${file.name}`,\n      'ACL': 'public-read',\n      'ContentType': file.type,\n      // 'ContentDisposition': 'inline'\n    };\n\n    const urlParams = { getSignedUrl: true };\n    const response = await Api.create(s3Params, this.apiResource, urlParams);\n\n    return response;\n  }\n\n  // make into shared component, along with getPresignedUrl\n  uploadAsset = async (uploadUrl, file) => {\n    try {\n      // post file to presigned URL\n      const config = {\n        headers: {\n          'ACL': 'public-read',\n          'Content-Type': file.type,\n          // 'Content-Disposition': 'inline'\n        },\n        onUploadProgress: progressEvent => {\n          const progress = Number.parseInt(progressEvent.loaded / file.size * 100, 10);\n          console.log(`Progress: ${progress}%`);\n        }\n      }\n\n      const response = await axios.put(uploadUrl, file, config);\n      return response.config.url.split('?')[0];\n    } catch (error) {\n      return error;\n    }\n  }\n\n  onFormCancel = () => {\n    this.setState({ redirect: true });\n  }\n\n  render() {\n    if (this.state.redirect) { return <Redirect to=\"/assets\" />; }\n\n    const loaderStyles = `ui ${this.state.isLoading ? 'active' : ''} inverted dimmer`;\n\n    return (\n      <div>\n        <h1>New Asset</h1>\n        <div className={loaderStyles}>\n          <div className=\"ui text loader\">Working...</div>\n        </div>\n        <AssetForm asset={this.state.asset}\n                   isNew={true}\n                   onFormSubmit={this.createAsset}\n                   onFormCancel={this.onFormCancel}/>\n       </div>\n    );\n  }\n}\n\nexport default AssetCreate;\n","import React from 'react';\nimport { HashRouter, Route } from 'react-router-dom';\nimport Header from './Header';\nimport ContentList from './views/ContentList';\nimport ContentCreate from './views/ContentCreate';\nimport ContentEdit from './views/ContentEdit';\nimport AssetList from './views/AssetList';\nimport AssetEdit from './views/AssetEdit';\nimport AssetCreate from './views/AssetCreate';\n\nconst App = () => {\n  const containerStyle = { margin: '10px 0 20px' };\n  \n  return (\n    <div className=\"ui container\" style={containerStyle}>\n      <HashRouter basename='/'>\n        <Header />\n        <Route path=\"/\" exact component={ContentList} />\n        <Route path=\"/content/edit/:id\" exact component={ContentEdit} />\n        <Route path=\"/content/new\" exact component={ContentCreate} />\n        <Route path=\"/assets\" exact component={AssetList} />\n        <Route path=\"/assets/edit/:id\" exact component={AssetEdit} />\n        <Route path=\"/assets/new\" exact component={AssetCreate} />\n      </HashRouter>\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/App';\n\nReactDOM.render(\n  <App />,\n  document.querySelector('#root')\n);\n"],"sourceRoot":""}